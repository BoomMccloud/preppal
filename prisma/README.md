### Model-by-Model Breakdown

#### 1. `User`

- **Purpose:** Stores user identity and profile information.
- **Design:** This is a standard user model that is fully compatible with the NextAuth.js Prisma adapter.
- **Relations:** A `User` can have many `Interview` sessions, `Resume`s, and `JobDescription`s.

#### 2. `JobDescription`

- **Purpose:** To store a library of job descriptions that the user wants to practice for.
- **Design:** This model allows a user to save, manage, and reuse job descriptions for multiple interview sessions. This avoids data duplication and provides a better user experience. **It is designed for recurring usage, enabling users to practice for the same role multiple times or with different resumes.**
- **Relations:**
  - Belongs to one `User`.
  - Can be used as a template for many `Interview`s.

#### 3. `Resume`

- **Purpose:** To store a library of the user's resumes.
- **Design:** This allows a user to have multiple versions of their resume tailored for different roles. They can select a specific resume for each interview. **The schema supports matching a single saved resume across many different job descriptions, facilitating efficient recurring use.**
- **Relations:**
  - Belongs to one `User`.
  - Can be used in many `Interview`s.

#### 4. `Interview`

- **Purpose:** This is the central model that represents a single interview session.
- **Key Fields:**
  - `status`: An `enum` is used to strictly control the state of the interview.
  - `startedAt` / `endedAt`: Nullable timestamps for tracking the actual duration of the live call.
  - `idempotencyKey`: A unique key to prevent duplicate interview creation.
  - `jobTitleSnapshot` / `jobDescriptionSnapshot`: A copy of the job title and description taken from the associated `JobDescription` at the moment the interview is created. This creates an **immutable historical record** of the context for that specific session. For example, if a user later edits the title of the original `JobDescription` in their library, the `jobTitleSnapshot` for this interview will not change, preserving its historical accuracy.
  - `resumeSnapshot`: A copy of the resume content taken from the associated `Resume` at the moment the interview is created.
  - `userId`: A foreign key linking to the `User`.
  - `jobDescriptionId`: An optional foreign key linking to a `JobDescription` in the user's library. This allows grouping of interviews for the same role.
  - `resumeId`: An optional foreign key linking to the `Resume` used for the interview.
- **Relations:**
  - Belongs to one `User`.
  - Can optionally link to one `JobDescription` and one `Resume`.
  - Can have one `InterviewFeedback`.
  - Can have many `TranscriptEntry` records.

#### 5. `InterviewFeedback` ("Interview Results")

- **Purpose:** To store the post-interview analysis and results generated by the AI.
- **Design:** Separated from the `Interview` model to keep the main model lean and to support asynchronous feedback generation.
- **Key Fields:**
  - `summary`: A high-level summary of the interview.
  - `strengths`: Positive feedback points.
  - `contentAndStructure`: Feedback on the substance and organization of answers.
  - `communicationAndDelivery`: Feedback on verbal communication style.
  - `presentation`: Feedback on non-verbal cues.
- **Relations:** Has a strict one-to-one relationship with `Interview`.

#### 6. `TranscriptEntry`

- **Purpose:** To store the full, turn-by-turn transcript of the conversation.
- **Design:** Storing each spoken part as a separate row is highly scalable and allows for easy rendering and analysis of the conversation.
- **Key Fields:**
  - `speaker`: An `enum` (`USER` or `AI`) to identify the speaker.
  - `timestamp`: Essential for ordering the conversation.
  - `content`: The spoken text.
- **Relations:** Each entry belongs to a single `Interview`.